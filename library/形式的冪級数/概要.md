## 概要
数え上げ問題を、形式的冪級数に対する計算と結びつけることで式変形で解を得ることができる

## よく使う代数

### 二項定理
$$
(1+x)^n = \sum_{k=0}^{n} \binom{n}{k} x^k
$$

$$
(1-x)^{-n} = \sum_{k=0}^{\infty} \binom{k+n-1}{n-1} x^k
$$

### 等比級数
$$
\sum_{k=0}^{n-1} r^k = \frac{1-r^{n}}{1-r}
$$

### 形式的冪級数の計算
$ F = \sum_{n=0}^{\infty} f_n x^k, G = \sum_{n=0}^{\infty} g_n x^k$ とする。

### 和・差
$$[x^n](F \pm G) = f_n \pm g_n$$

### 積
$$[x^n](FG) = \sum_{i+j=n} f_i g_j$$

### 逆元
$F$ が定数項を持たない形式的冪級数であるとき、
$$
\frac{1}{1-F} = \sum_{n=0}^{\infty} F^{n}
$$
が成り立つ。
実際、部分和が$\frac{1 - F^N}{1-F}$となり、左辺との差は$\frac{F^N}{1-F}$ となるので、$F$に定数項がなければこの式に$N$次未満の項は存在しない。

## 形式的冪級数の性質
### 係数
$A(x) = \sum_{n = 0}^{\infty} a_n x^n$について、
$$
\begin{align*}
\sum_{n\ge 0, n: 偶数} a_n x^n &= \frac{A(x) + A(-x)}{2} \\
\sum_{n\ge 0, n: 奇数} a_n x^n &= \frac{A(x) - A(-x)}{2} \\
\end{align*}
$$

## 解法の導出

### 無限和の式変形による簡略化
等比級数の無限和などの形を利用して、$n$次の係数を導く

### 因数分解の利用
因数分解を利用し、二項展開する。

### 累積和によるdp遷移の導出
